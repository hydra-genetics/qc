$schema: "http://json-schema.org/draft-04/schema#"
description: snakemake rule input and output files description file
type: object
properties:
  bcftools_stats:
    type: object
    description: input and output parameters for bcftools_stats
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          vcf:
            type: string
            description: VCF file

      output:
        type: object
        description: list of outputs
        properties:
          stats:
            type: strng
            description: bcftools stats output file

  cramino:
    type: object
    description: input and output parameters for cramino
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: BAM file with aligned or unaligned reads

      output:
        type: object
        description: list of outputs
        properties:
          txt:
            type: string
            description: crammino summary statistics text file
          arrow:
            type: string
            description: arrow file that can be used with Nanoplot

  fastqc:
    type: object
    description: input and output parameters for fastqc
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          fastq:
            type: string
            description: List of fastq files
      output:
        type: object
        description: list of outputs
        properties:
          html:
            type: string
            description: Html report containing sequencing qc
          zip:
            type: string
            description: Zipped qc data that can be used as input to MultiQC 


  gatk_calculate_contamination:
    type: object
    description: input and output parameters for gatk_calculate_contamination
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          pileups_table:
            type: string
            description: Pileup generated by gatk_get_pileup_summaries
      output:
        type: object
        description: list of outputs
        properties:
          contamination_table:
            type: string
            description: |
              Measure of sample contamination
              NOTE: needs modification to be used as input to MultiQC
          
  gatk_get_pileup_summaries:
    type: object
    description: input and output parameters for gatk_get_pileup_summaries
    properties:
      input:
        type: object
        description: list of inputsw
        properties:
          bam:
            type: string
            description: Aligned bam file
          bai:
            type: string
            description: Bam index file
          sites:
            type: string
            description: Vcf-file with common SNPs for example from GNOMAD
          variants:
            type: string
            description: Vcf-file with common SNPs for example from GNOMAD
      output:
        type: object
        description: list of outputs
        properties:
          pileups_table:
            type: string
            description: Pileup file with allele information for selected sites

  mosdepth:
    type: object
    description: input and output parameters for mosdepth
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Aligned bam file
          bai:
            type: string
            description: Bam index file
      output:
        type: object
        description: list of outputs
        properties:
          bed:
            type: string
            description: Bed file with coverage per region
          csi:
            type: string
            description: Bed coverage index file 
          glob:
            type: string
            description: Global statistics used by MultiQC
          region:
            type: string
            description: Statistics for the regions specified (--by parameter) used by MultiQC
          summary:
            type: string
            description: Summary statistics


  mosdepth_bed:
    type: object
    description: input and output parameters for mosdepth_bed
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Aligned bam file
          bai:
            type: string
            description: Bam index file
          bed:
            type: string
            description: Bed file regions used for per-base coverage
      output:
        type: object
        description: list of outputs
        properties:
          bed:
            type: string
            description: Bed file with coverage per region
          bed_csi:
            type: string
            description: Bed coverage index file 
          coverage:
            type: string
            description: Coverage per base in the regions
          coverage_csi:
            type: string
            description: Coverage index file 
          glob:
            type: string
            description: Global statistics used by MultiQC
          region:
            type: string
            description: Statistics for the regions specified (--by parameter) used by MultiQC
          summary:
            type: string
            description: Summary statistics

  multiqc:
    type: object
    description: input and output parameters for multiqc
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          files:
            type: string
            description: List of files based on `config.yaml`
            value: list of qc files that will be parsed by multiqc
      output:
        type: object
        description: list of outputs
        properties:
          html:
            type: string
            description: MultiQC html report
          data:
            type: string
            description: Data directory with the underlying data found in the html report

  nanoplot:
    type: object
    description: input and output parameters for nanoplot
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          arrow:
            type: string
            description: arrow file produced by cramino

      output:
        type: object
        description: list of outputs
        properties:
          report:
            type: string
            description: Nanoplot html report
          stats:
            type: string
            description: Nanoplot summary statistics in text format

  peddy:
    type: object
    description: input and output parameters for peddy
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          vcf:
            type: string
            description: Jointly called vcf file from for example glnexus
          tbi:
            type: string
            description: tabix vcf index file
          ped:
            type: string
            description: Pedigree file
      output:
        type: object
        description: list of outputs
        properties:
          het_check:
            type: string
            description: General variant QC 
          pca:
            type: string
            description: PCA data with ancestry data in .json format
          ped:
            type: string
            description: Calculated pedigree file
          ped_check:
            type: string
            description: Relatedness info
          ped_html:
            type: string
            description: Peddy QC html report
          ped_vs_html:
            type: string
            description: Relatedness compared to input pedigree file reported in html-format
          sex_check:
            type: string
            description: Sex info

  picard_collect_alignment_summary_metrics:
    type: object
    description: input and output parameters for picard_collect_alignment_summary_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
          ref:
            type: string
            description: fasta reference file
      output:
        type: object
        description: list of outputs
        properties:
          metrics:
            type: string
            description: Alignment statistics used by MultiQC

  picard_collect_duplication_metrics:
    type: object
    description: input and output parameters for picard_collect_duplication_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
      output:
        type: object
        description: list of outputs
        properties:
          metrics:
            type: string
            description: Read duplication statistics used by MultiQC

  picard_collect_gc_bias_metrics:
    type: object
    description: input and output parameters for picard_collect_gc_bias_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
          ref:
            type: string
            description: fasta reference file
      output:
        type: object
        description: list of outputs
        properties:
          chart:
            type: string
            description: GC bias figure in pdf format
          metrics:
            type: string
            description: Detailed GC bias statistics
          summary:
            type: string
            description: Summary GC bias statistics

  picard_collect_hs_metrics:
    type: object
    description: input and output parameters for picard_collect_hs_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
          bait_intervals:
            type: string
            description: |
              Picard style interval_list file with bait or target regions
              NOTE: Can be same file as target_intervals if bait information is missing
          reference:
            type: string
            description: fasta reference file
          target_intervals:
            type: string
            description: Picard style interval_list file with target regions
      output:
        type: object
        description: list of outputs
        properties:
          metrics:
            type: string
            description: Panel specific statistics used by MultiQC

  picard_collect_insert_size_metrics:
    type: object
    description: input and output parameters for picard_collect_insert_size_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
      output:
        type: object
        description: list of outputs
        properties:
          pdf:
            type: string
            description: Pdf with a insert size histogram 
          txt:
            type: string
            description: Insert size statistics used by MultiQC

  picard_collect_multiple_metrics:
    type: object
    description: input and output parameters for picard_collect_multiple_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
          ref:
            type: string
            description: fasta reference file
      output:
        type: object
        description: list of outputs
        properties:
          metrices:
            type: string
            description: List of statistics analysis files used by MultiQC

  picard_collect_wgs_metrics:
    type: object
    description: input and output parameters for picard_collect_wgs_metrics
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          bai:
            type: string
            description: Bam index file
          ref:
            type: string
            description: fasta reference file
          interval:
            type: string
            description: Picard style interval_list file with regions to be analyzed
      output:
        type: object
        description: list of outputs
        properties:
          metrics:
            type: string
            description: WGS statistics used by MultiQC

  samtools_idxstats:
    type: object
    description: input and output parameters for samtools_idxstats
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Aligned bam file
          bai:
            type: string
            description: Bam index file
      output:
        type: object
        description: list of outputs
        properties:
          stats:
            type: string
            description: Alignment summary statistics from samtools idxstats
            
  samtools_stats:
    type: object
    description: input and output parameters for samtools_stats
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Aligned bam file
      output:
        type: object
        description: list of outputs
        properties:
          stats:
            type: string
            description: Alignment summary statistics from samtools stats
  
  sequali:
    type: object
    description: input and output parameters for sequali
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          infile:
            type: string
            description: bam file or fastq file of reads

      output:
        type: object
        description: list of outputs
        properties:
          json:
            type: string
            description: sequali html report 
          html:
            type: string
            description: sequali read statistics in json format


  verifybamid2:
    type: object
    description: input and output parameters for verifybamid2
    properties:
      input:
        type: object
        description: list of inputs
        properties:
          bam:
            type: string
            description: Alignment bam file
          ref:
            type: string
            description: Fasta reference file
          svd_mu:
            type: string
            description: Resource file for verifybamid2 
      output:
        type: object
        description: list of outputs
        properties:
          selfsm:
            type: string
            description: Text file with the estimated contamination level
          ancestry:
            type: string
            description: Text file containing the PC coordinates for both intended sample and contaminating sample

